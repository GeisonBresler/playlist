<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Playlist</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/bootswatch-dist/css/bootstrap.css" />
    <link rel="stylesheet" href="bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.css" />
    <link rel="stylesheet" href="bower_components/ng-sortable/dist/ng-sortable.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
  </head>
  <body ng-app="playlistApp">
    <!--[if lte IE 8]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->

    <!-- Page Content -->
    <div ng-controller="MainCtrl" class="container no-padding">
        <div class="row">
            <!-- Blog Post Content Column -->
            <div class="col-lg-9">
              <div class="container">
                  <!-- Blog Post -->
                  <header>
                    <div id="header" class="inline-block">
                      <div class="col-md-3">
                        <!-- Title -->
                        <h1 id="logo">Playlist</h1>
                      </div>
                      <div  class="col-md-9">
                        <div id="search" class="input-group" >
                          <input value="" ng-keyup="fakeSearchKeyUp()" ng-model="searchTerm" type="text" class="form-control" placeholder="Pesquisar vídeo no Youtube e Vimeo" />
                          <span class="input-group-btn">
                            <button ng-click="fakeSearchKeyUp()" class="btn btn-info" type="button">
                            <span class="glyphicon glyphicon-search"></span>
                            </button>
                          </span>
                        </div>
                      </div>
                    </div>
                  </header>
                  <div class="clear clearfix"></div>
                  <pre class="hide">{{currentVideo.iframeSrc}}</pre>
                  <div class="intro" ng-class="{hide: videoList.length}">
                    <p>
                      texto e imagem mostrando como utilizar pela primeira vez.
                      Compartilhe a idéia para que essa ferramenta seja sempre grátis!
                    </p>
                  </div>
                  <div id="video" class="hide" ng-class="{hide: !videoList.length}">
                    <iframe id="player1" ng-src="{{currentVideo.iframeSrc}}" src=""  frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>
                  </div> 
              </div>  
            </div>
            <!-- Blog Sidebar Widgets Column -->
            <div  class="col-md-3">
                <!-- Blog Search Well -->
                <div id="navegator" class="well fixed">
                    <!-- /.input-group -->
                    <div id="videoUploader">
                      <h4>Adicionar Vídeo</h4>
                      <div class="input-group" ng-controller="VideoUploaderCtrl">
                          <input value="" placeholder="Cole aqui a URL do vídeo" ng-model="url" type="text" class="form-control">
                          <span class="input-group-btn">
                              <button ng-click="send()" class="btn btn-info" type="button">
                                  <span class="glyphicon glyphicon-plus"></span>
                          </button>
                          </span>
                      </div>
                      <hr>
                    </div>
                    <div id="VideoList" ng-controller="VideoListCtrl" >
                      <h5 class="playlist-title" ng-cloak> Lista de reprodução ({{videoList.length}}):</h5>
                      <div id="playlist" ng-scrollbars ng-scrollbars-config="scrollbarConfig">
                        <ul data-as-sortable="board.dragControlListeners" ng-model="videoList" class="nav nav-pills nav-stacked">
                          <li ng-class="{'active':item.id == currentVideo.id}" ng-repeat="item in videoList" ng-click="currentVideo.setVideo(item);" class="playlist-item vid-{{item.id}}" data-as-sortable-item >
                            <a href="#">
                              <img title="Arraste para reordenar" data-as-sortable-item-handle ng-src="{{item.media.small}}" />
                              <small ng-cloak>
                                {{item.title}}
                                <span>
                                <i class="glyphicon glyphicon-time"></i>&nbsp; {{item.duration.formatted}}
                                </span>
                              </small>
                              <div class="clear clearfix"></div>
                            </a>
                            <i ng-cloak ng-click="removeFromList($index);$event.stopPropagation();" title="Remover da lista" class="remove glyphicon glyphicon-remove"></i>
                          </li>
                        </ul>
                      </div>
                      <hr class="small">
                      <div class="playlist-infos">
                        <div  class="col-md-2">
                        </div>
                        <div class="col-md-10 text-right" ng-cloak>
                          <span>
                            Tempo total: 
                            {{videoListDuration()}}
                          </span>
                        </div>
                      </div>
                    </div>
                    <div ng-controller="VideoPlayerCtrl" class="" id="videoCtrl">
                      <ul  class="pagination block pagination-sm">
                        <li>
                            <button class="btn btn-lg btn-default" ng-disabled="!Player.doRepeat && (!videoList.length || videoList[0].id == currentVideo.id)" ng-click="Player.prev();" href="javascript:void(0)">
                              <i class="glyphicon glyphicon-backward"></i>
                            </button>
                        </li>
                        <li>
                            <button class="btn btn-lg btn-default" ng-disabled="!videoList.length" ng-click="Player.play();" href="javascript:void(0)">
                              <i ng-class="Player.isPlaying ? 'glyphicon glyphicon-pause' : 'glyphicon glyphicon-play'" class="glyphicon glyphicon-play"></i>
                            </button>
                        </li>
                        <li>
                            <button class="btn btn-lg btn-default" ng-disabled="!Player.doRepeat && (!videoList.length || videoList[videoList.length - 1].id == currentVideo.id)" ng-click="Player.next();" href="javascript:void(0)">
                              <i class="glyphicon glyphicon-forward"></i>
                            </button>
                        </li>
                      </ul>
                      <ul  class="pagination block pagination-sm">
                        <li>
                            <button ng-class="{active: Player.doRepeat}" data-toggle="tooltip" data-placement="top" title="Repetir lista" class="btn btn-xs btn-default" ng-disabled="!videoList.length" ng-click="Player.setRepeat()" href="javascript:void(0)">
                              <i class="glyphicon glyphicon-repeat"></i>
                            </button>
                        </li>
                        <li>
                            <button ng-class="{active: Player.doRandom}" data-toggle="tooltip" data-placement="top" title="Ativar ordem aleatória" class="btn btn-xs btn-default" ng-disabled="!videoList.length" ng-click="Player.setRandom();" href="javascript:void(0)">
                              <i class="glyphicon glyphicon-random"></i>
                            </button>
                        </li>
                      </ul>
                  </div>
                </div>
            </div>
        </div>
        <!-- /.row -->
        <div class="modal search-modal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
          <div class="modal-dialog modal-lg">
            <div  class="modal-content panel">
               <a title="Fechar" href="javascript:void(0)" ng-click="closeSearchModal();" class="search-modal-close">
                <i class="glyphicon glyphicon-remove"></i>
               </a>
               <input value="" ng-keyup="requestSearch()" ng-model="searchTerm" type="text" class="form-control" placeholder="Pesquisar vídeo no Youtube e Vimeo" />
               <div ng-controller="SearchCtrl" class="row content text-center">
                 <div masonry load-images="true" data-reload-on-show masonry-options="{isFitWidth: false, percentPosition: true, columnWidth: '.col-md-3',transitionDuration: '0.35s' }" class="result-wrapper">
                   <div ng-repeat="item in resultItems" class="col-md-3 col-sm-6 hero-feature masonry-brick hide" images-loaded="imgLoadedEvents">
                    <div class="thumbnail">
                        <img ng-src="{{item.image}}" alt="">
                        <span ng-bind="item.origin"></span>
                        <div class="caption">
                            <h4 ng-bind="item.title"></h4>
                            <a ng-click="addToVideoList(item.url);" href="#" class="btn btn-success btn-sm"><i class="glyphicon glyphicon-plus"></i> Adicionar a lista</a>
                            </p>
                        </div>
                    </div>
                  </div>  
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>
    <div id="dragContainer" class="jumbotron">
      <h1>Jumbotron</h1>
      <p>
        This is a simple hero unit, a simple jumbotron-style component for calling extra attention to featured content or information.
      </p>
    </div>
    <!-- /.container -->

    <script>
       !function(A,n,g,u,l,a,r){A.GoogleAnalyticsObject=l,A[l]=A[l]||function(){
       (A[l].q=A[l].q||[]).push(arguments)},A[l].l=+new Date,a=n.createElement(g),
       r=n.getElementsByTagName(g)[0],a.src=u,r.parentNode.insertBefore(a,r)
       }(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-67833430-2', 'auto');
       ga('send', 'pageview');
    </script>

    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/eventEmitter/EventEmitter.js"></script>
    <script src="bower_components/eventie/eventie.js"></script>
    <script src="bower_components/imagesloaded/imagesloaded.pkgd.js"></script>
    <script src="bower_components/angular-images-loaded/angular-images-loaded.js"></script>
    <script src="bower_components/get-style-property/get-style-property.js"></script>
    <script src="bower_components/get-size/get-size.js"></script>
    <script src="bower_components/doc-ready/doc-ready.js"></script>
    <script src="bower_components/matches-selector/matches-selector.js"></script>
    <script src="bower_components/fizzy-ui-utils/utils.js"></script>
    <script src="bower_components/outlayer/item.js"></script>
    <script src="bower_components/outlayer/outlayer.js"></script>
    <script src="bower_components/masonry/dist/masonry.pkgd.js"></script>
    <script src="bower_components/jquery-bridget/jquery.bridget.js"></script>
    <script src="bower_components/angular-masonry/angular-masonry.js"></script>
    <script src="bower_components/angular-messages/angular-messages.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.js"></script>
    <script src="bower_components/bootswatch-dist/js/bootstrap.js"></script>
    <script src="bower_components/jquery-mousewheel/jquery.mousewheel.js"></script>
    <script src="bower_components/malihu-custom-scrollbar-plugin/jquery.mCustomScrollbar.js"></script>
    <script src="bower_components/ng-scrollbars/dist/scrollbars.min.js"></script>
    <script src="bower_components/ng-sortable/dist/ng-sortable.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <script src="https://f.vimeocdn.com/js/froogaloop2.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>

    <!-- build:js({.tmp,app}) scripts/scripts.js -->
    <script src="scripts/app.js"></script>
    <script src="scripts/classes.js"></script>
    <script src="scripts/onload.js"></script>
    <script src="scripts/controllers/main.js"></script>
    <script src="scripts/controllers/videolist.js"></script>
    <script src="scripts/controllers/videouploader.js"></script>
    <script src="scripts/controllers/videoplayer.js"></script>
    <script src="scripts/controllers/search.js"></script>
    <script src="scripts/services/player.js"></script>
    <script src="scripts/services/currentvideo.js"></script>
    <script src="scripts/services/search.js"></script>
    <!-- endbuild -->
</body>
</html>
